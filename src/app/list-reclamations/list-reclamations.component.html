<div class="reclamations-list">
  <h3>Mes Réclamations</h3>
  <div class="filters-bar">
    <input type="text" placeholder="Recherche..." [(ngModel)]="filterText" />
    <select [(ngModel)]="filterMotif">
      <option value="">Tous motifs</option>
      <option *ngFor="let m of motifs">{{ m }}</option>
    </select>
    <select [(ngModel)]="filterFeature">
      <option value="">Toutes features</option>
      <option *ngFor="let f of features">{{ f }}</option>
    </select>
    <select [(ngModel)]="filterStatut">
      <option value="">Tous statuts</option>
      <option *ngFor="let s of statuts">{{ s }}</option>
    </select>
  </div>
  <button class="add-btn" (click)="openPopup()">+ Ajouter Réclamation</button>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Motif</th>
        <th>Feature</th>
        <th>Statut</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of filteredReclamations()">
        <td>{{ r.date }}</td>
        <td>{{ r.motif }}</td>
        <td>{{ r.feature }}</td>
        <td>{{ r.statut }}</td>
        <td>{{ r.description }}</td>
        <td>
          <button class="icon-btn" (click)="editReclamation(r)"><span class="material-icons">edit</span></button>
          <button class="icon-btn" (click)="deleteReclamation(r)"><span class="material-icons">delete</span></button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Popup Formulaire -->
  <div class="popup-backdrop" *ngIf="showPopup">
    <div class="popup-form">
      <app-add-reclamation [editData]="editData" (submitReclamation)="addReclamation($event)" (close)="closePopup()"></app-add-reclamation>
    </div>
  </div>
</div>
